{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>

    
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <!--[if IE]>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <![endif]-->
    <title>CloudRobot</title>
    <!-- BOOTSTRAP CORE STYLE  -->
    <link href="{% static 'Home/css/bootstrap.css' %}" rel="stylesheet" />
    <!-- FONT AWESOME STYLE  -->
    <link href="{% static 'Home/css/font-awesome.css' %}" rel="stylesheet" />
    <!-- CUSTOM STYLE  -->
    <link href="{% static 'Home/css/style.css' %}" rel="stylesheet" />
    <!-- GOOGLE FONT -->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />

</head>
<body>
    <div class="navbar navbar-inverse set-radius-zero" >
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">

                    <img src="{% static 'Home/img/logo2.png' %}" />
                </a>

            </div>

        </div>
    </div>
    <!-- LOGO HEADER END-->
    <section class="menu-section">
        <div class="container">
            <div class="row ">
                <div class="col-md-12">
                    <div class="navbar-collapse collapse ">
                        <ul id="menu-top" class="nav navbar-nav navbar-left">
                            <li><a href="http://127.0.0.1:8000/home/CloudRobot/" class="menu-top-active">Home</a></li>
                            <li><a href="{% url 'LivePi:index' %}">LivePi</a></li>
                            <li><a href="http://127.0.0.1:8000/admin/Home/measurement/">Measurements</a></li>
                            <li>
                                <a href="#" class="dropdown-toggle" id="ddlmenuItem" data-toggle="dropdown">Agents Info <i class="fa fa-angle-down"></i></a>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="ddlmenuItem">
                                     <li role="presentation"><a role="menuitem" tabindex="-1" href="http://127.0.0.1:8000/admin/Home/agent/">Agents</a></li>
                                     <li role="presentation"><a role="menuitem" tabindex="-1" href="http://127.0.0.1:8000/admin/Home/task/">Tasks</a></li>
                                     <li role="presentation"><a role="menuitem" tabindex="-1" href="http://127.0.0.1:8000/admin/Home/agenttask/">Agent Tasks</a></li>
                                     <li role="presentation"><a role="menuitem" tabindex="-1" href="http://127.0.0.1:8000/admin/Home/event/">Events</a></li>
                                     <li role="presentation"><a role="menuitem" tabindex="-1" href="http://127.0.0.1:8000/admin/Home/sensor/">Sensors</a></li>
                                     <li role="presentation"><a role="menuitem" tabindex="-1" href="http://127.0.0.1:8000/admin/Home/threshold/">Thresholds</a></li>
                                     <li role="presentation"><a role="menuitem" tabindex="-1" href="http://127.0.0.1:8000/admin/Home/report/">Reports</a></li>
                                </ul>
                            </li>
                    

                        </ul>
                        <div class="right-div">
                            <a href="http://127.0.0.1:8000/" class="btn btn-danger pull-right">LOG OUT</a>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>
     <!-- MENU SECTION END-->
 

    <div class="content-wrapper">
         <div class="container">
        <div class="row pad-botm">
            <div class="col-md-12">
             
             <div class="row">
                <a href="http://127.0.0.1:8000/admin/Home/measurement/">
                 <div class="col-md-3 col-sm-3 col-xs-6">
                      <div class="alert alert-info back-widget-set text-center">
                            <i class="fa fa-history fa-5x"></i>
                            <h3 id="totalM"> Measurements</h3>
                           Number of Taken Measurements
                        </div>
                    </div>
                </a>
                <a href="http://127.0.0.1:8000/admin/Home/task/">
              <div class="col-md-3 col-sm-3 col-xs-6">
                      <div class="alert alert-success back-widget-set text-center">
                            <i class="fa fa-bars fa-5x"></i>
                            <h3 id="totalT"> Tasks</h3>
                            Unaccomplished Tasks
                        </div>
                    </div>
                </a>
                    <a href="http://127.0.0.1:8000/admin/Home/event/">
               <div class="col-md-3 col-sm-3 col-xs-6">
                      <div class="alert alert-warning back-widget-set text-center">
                            <i class="fa fa-recycle fa-5x"></i>
                            <h3 id="totalE"> Events</h3>
                            Total Number Of Events
                        </div>
                    </div>
                </a>
                    <a href="http://127.0.0.1:8000/admin/Home/warning/">
               <div class="col-md-3 col-sm-3 col-xs-6">
                      <div class="alert alert-danger back-widget-set text-center">
                            <i class="fa fa-briefcase fa-5x"></i>
                            <h3 id="totalW"> Warnings </h3>
                            Check Warnings
                        </div>
                    </div>
                </a>

        </div>           
             
                 <div id="measurements" class="panel panel-primary ">
                     </div>
                        
    <!-- JAVASCRIPT FILES PLACED AT THE BOTTOM TO REDUCE THE LOADING TIME  -->
    <!-- CORE JQUERY  -->
    <script src="{% static 'Home/js/jquery-1.10.2.js' %}"></script>
    <!-- BOOTSTRAP SCRIPTS  -->
    <script src="{% static 'Home/js/bootstrap.js' %}"></script>
      <!-- CUSTOM SCRIPTS  -->
    <script src="{% static 'Home/js/custom.js' %}"></script>
    <script>
        function count(){
            fetch('http://127.0.0.1:8000/home/measurements/')
            .then(response => response.text())
            .then (text => {
            document.querySelector('#measurements').innerHTML=text;
    
            })
        }
        document.addEventListener('DOMContentLoaded', function(){
            setInterval(count, 1000)
        })
        function totalM(){
            fetch('http://127.0.0.1:8000/home/totalM/')
            .then(response => response.text())
            .then (text => {
            document.querySelector('#totalM').innerHTML=text;
    
            })
        }
        document.addEventListener('DOMContentLoaded', function(){
            setInterval(totalM, 1000)
        })
        function totalT(){
            fetch('http://127.0.0.1:8000/home/totalT/')
            .then(response => response.text())
            .then (text => {
            document.querySelector('#totalT').innerHTML=text;
    
            })
        }
        document.addEventListener('DOMContentLoaded', function(){
            setInterval(totalT, 1000)
        })
        function totalE(){
            fetch('http://127.0.0.1:8000/home/totalE/')
            .then(response => response.text())
            .then (text => {
            document.querySelector('#totalE').innerHTML=text;
    
            })
        }
        document.addEventListener('DOMContentLoaded', function(){
            setInterval(totalE, 1000)
        })
        function totalW(){
            fetch('http://127.0.0.1:8000/home/totalW/')
            .then(response => response.text())
            .then (text => {
            document.querySelector('#totalW').innerHTML=text;
    
            })
        }
        document.addEventListener('DOMContentLoaded', function(){
            setInterval(totalW, 1000)
        })
    </script>

</body>
</html>
